<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Email Assistant 設定</title>
  <link rel="stylesheet" href="../styles/options.css">
  <script src="../relationships.js"></script>
</head>
<body>
  <div class="container">
    <h1>Email Assistant 設定</h1>
    
    <section class="section">
      <h2>関係性の管理</h2>
      <div class="relationship-settings">
        <div class="relationship-list">
          <h3>登録済みの関係性</h3>
          <div id="relationshipContainer" class="relationship-items">
            <!-- 関係性の項目がここに動的に追加されます -->
          </div>
        </div>
        
        <div class="add-relationship">
          <h3>新しい関係性を追加</h3>
          <div class="input-group">
            <label for="newEmailAddress">メールアドレス:</label>
            <input type="email" id="newEmailAddress" placeholder="例: example@gmail.com">
          </div>
          
          <div class="input-group">
            <label for="relationshipType">関係性タイプ:</label>
            <select id="relationshipType">
              <!-- 選択肢はJavaScriptで動的に生成されます -->
              <option value="custom">カスタム...</option>
            </select>
          </div>
          
          <div id="customDescriptionContainer" class="input-group" style="display: none;">
            <label for="newCustomDescription">カスタム説明:</label>
            <input type="text" id="newCustomDescription" placeholder="例: 古くからの取引先（親しみのある丁寧さ）">
          </div>
          
          <button id="addRelationshipBtn">追加</button>
        </div>
      </div>
    </section>
    
    <section class="section">
      <h2>デフォルト設定</h2>
      <div class="default-settings">
        <div class="input-group">
          <label for="defaultRelationship">デフォルトの関係性:</label>
          <select id="defaultRelationship">
            <!-- 選択肢はJavaScriptで動的に生成されます -->
          </select>
        </div>
        
        <div class="checkbox-group">
          <input type="checkbox" id="autoSaveApi" checked>
          <label for="autoSaveApi">APIレスポンスを自動的に適用する</label>
        </div>
      </div>
    </section>
    
    <section class="section">
      <h2>API設定</h2>
      <div class="api-settings">
        <label for="geminiApiKey">Gemini APIキー:</label>
        <input type="text" id="geminiApiKey" placeholder="あなたのGemini APIキー">
        <button id="saveApiKeyBtn">保存</button>
      </div>
      <div class="settings-info">
        <p>※ メール調整機能はGemini APIを使用しており、APIキーが必要です。</p>
        <p>※ <a href="https://ai.google.dev/" target="_blank">Google AI Studio</a>からAPIキーを取得できます。</p>
      </div>
</section>
  </div>
  
  <script src="options.js"></script>
</body>
</html>
